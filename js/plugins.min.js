(function() {
    function a() {}

    function b(a, b) {
        for (var c = a.length; c--;)
            if (a[c].listener === b) return c;
        return -1
    }

    function c(a) {
        return function() {
            return this[a].apply(this, arguments)
        }
    }
    var d = a.prototype,
        e = this,
        f = e.EventEmitter;
    d.getListeners = function(a) {
        var b, c, d = this._getEvents();
        if ("object" == typeof a) {
            b = {};
            for (c in d) d.hasOwnProperty(c) && a.test(c) && (b[c] = d[c])
        } else b = d[a] || (d[a] = []);
        return b
    }, d.flattenListeners = function(a) {
        var b, c = [];
        for (b = 0; b < a.length; b += 1) c.push(a[b].listener);
        return c
    }, d.getListenersAsObject = function(a) {
        var b, c = this.getListeners(a);
        return c instanceof Array && (b = {}, b[a] = c), b || c
    }, d.addListener = function(a, c) {
        var d, e = this.getListenersAsObject(a),
            f = "object" == typeof c;
        for (d in e) e.hasOwnProperty(d) && -1 === b(e[d], c) && e[d].push(f ? c : {
            listener: c,
            once: !1
        });
        return this
    }, d.on = c("addListener"), d.addOnceListener = function(a, b) {
        return this.addListener(a, {
            listener: b,
            once: !0
        })
    }, d.once = c("addOnceListener"), d.defineEvent = function(a) {
        return this.getListeners(a), this
    }, d.defineEvents = function(a) {
        for (var b = 0; b < a.length; b += 1) this.defineEvent(a[b]);
        return this
    }, d.removeListener = function(a, c) {
        var d, e, f = this.getListenersAsObject(a);
        for (e in f) f.hasOwnProperty(e) && (d = b(f[e], c), -1 !== d && f[e].splice(d, 1));
        return this
    }, d.off = c("removeListener"), d.addListeners = function(a, b) {
        return this.manipulateListeners(!1, a, b)
    }, d.removeListeners = function(a, b) {
        return this.manipulateListeners(!0, a, b)
    }, d.manipulateListeners = function(a, b, c) {
        var d, e, f = a ? this.removeListener : this.addListener,
            g = a ? this.removeListeners : this.addListeners;
        if ("object" != typeof b || b instanceof RegExp)
            for (d = c.length; d--;) f.call(this, b, c[d]);
        else
            for (d in b) b.hasOwnProperty(d) && (e = b[d]) && ("function" == typeof e ? f.call(this, d, e) : g.call(this, d, e));
        return this
    }, d.removeEvent = function(a) {
        var b, c = typeof a,
            d = this._getEvents();
        if ("string" === c) delete d[a];
        else if ("object" === c)
            for (b in d) d.hasOwnProperty(b) && a.test(b) && delete d[b];
        else delete this._events;
        return this
    }, d.removeAllListeners = c("removeEvent"), d.emitEvent = function(a, b) {
        var c, d, e, f, g = this.getListenersAsObject(a);
        for (e in g)
            if (g.hasOwnProperty(e))
                for (d = g[e].length; d--;) c = g[e][d], c.once === !0 && this.removeListener(a, c.listener), f = c.listener.apply(this, b || []), f === this._getOnceReturnValue() && this.removeListener(a, c.listener);
        return this
    }, d.trigger = c("emitEvent"), d.emit = function(a) {
        var b = Array.prototype.slice.call(arguments, 1);
        return this.emitEvent(a, b)
    }, d.setOnceReturnValue = function(a) {
        return this._onceReturnValue = a, this
    }, d._getOnceReturnValue = function() {
        return this.hasOwnProperty("_onceReturnValue") ? this._onceReturnValue : !0
    }, d._getEvents = function() {
        return this._events || (this._events = {})
    }, a.noConflict = function() {
        return e.EventEmitter = f, a
    }, "function" == typeof define && define.amd ? define("eventEmitter/EventEmitter", [], function() {
        return a
    }) : "object" == typeof module && module.exports ? module.exports = a : this.EventEmitter = a
}).call(this),
    function(a) {
        function b(b) {
            var c = a.event;
            return c.target = c.target || c.srcElement || b, c
        }
        var c = document.documentElement,
            d = function() {};
        c.addEventListener ? d = function(a, b, c) {
            a.addEventListener(b, c, !1)
        } : c.attachEvent && (d = function(a, c, d) {
            a[c + d] = d.handleEvent ? function() {
                var c = b(a);
                d.handleEvent.call(d, c)
            } : function() {
                var c = b(a);
                d.call(a, c)
            }, a.attachEvent("on" + c, a[c + d])
        });
        var e = function() {};
        c.removeEventListener ? e = function(a, b, c) {
            a.removeEventListener(b, c, !1)
        } : c.detachEvent && (e = function(a, b, c) {
            a.detachEvent("on" + b, a[b + c]);
            try {
                delete a[b + c]
            } catch (d) {
                a[b + c] = void 0
            }
        });
        var f = {
            bind: d,
            unbind: e
        };
        "function" == typeof define && define.amd ? define("eventie/eventie", f) : a.eventie = f
    }(this),
    function(a, b) {
        "function" == typeof define && define.amd ? define(["eventEmitter/EventEmitter", "eventie/eventie"], function(c, d) {
            return b(a, c, d)
        }) : "object" == typeof exports ? module.exports = b(a, require("eventEmitter"), require("eventie")) : a.imagesLoaded = b(a, a.EventEmitter, a.eventie)
    }(window, function(a, b, c) {
        function d(a, b) {
            for (var c in b) a[c] = b[c];
            return a
        }

        function e(a) {
            return "[object Array]" === m.call(a)
        }

        function f(a) {
            var b = [];
            if (e(a)) b = a;
            else if ("number" == typeof a.length)
                for (var c = 0, d = a.length; d > c; c++) b.push(a[c]);
            else b.push(a);
            return b
        }

        function g(a, b, c) {
            if (!(this instanceof g)) return new g(a, b);
            "string" == typeof a && (a = document.querySelectorAll(a)), this.elements = f(a), this.options = d({}, this.options), "function" == typeof b ? c = b : d(this.options, b), c && this.on("always", c), this.getImages(), j && (this.jqDeferred = new j.Deferred);
            var e = this;
            setTimeout(function() {
                e.check()
            })
        }

        function h(a) {
            this.img = a
        }

        function i(a) {
            this.src = a, n[a] = this
        }
        var j = a.jQuery,
            k = a.console,
            l = "undefined" != typeof k,
            m = Object.prototype.toString;
        g.prototype = new b, g.prototype.options = {}, g.prototype.getImages = function() {
            this.images = [];
            for (var a = 0, b = this.elements.length; b > a; a++) {
                var c = this.elements[a];
                "IMG" === c.nodeName && this.addImage(c);
                var d = c.nodeType;
                if (d && (1 === d || 9 === d || 11 === d))
                    for (var e = c.querySelectorAll("img"), f = 0, g = e.length; g > f; f++) {
                        var h = e[f];
                        this.addImage(h)
                    }
            }
        }, g.prototype.addImage = function(a) {
            var b = new h(a);
            this.images.push(b)
        }, g.prototype.check = function() {
            function a(a, e) {
                return b.options.debug && l && k.log("confirm", a, e), b.progress(a), c++, c === d && b.complete(), !0
            }
            var b = this,
                c = 0,
                d = this.images.length;
            if (this.hasAnyBroken = !1, !d) return void this.complete();
            for (var e = 0; d > e; e++) {
                var f = this.images[e];
                f.on("confirm", a), f.check()
            }
        }, g.prototype.progress = function(a) {
            this.hasAnyBroken = this.hasAnyBroken || !a.isLoaded;
            var b = this;
            setTimeout(function() {
                b.emit("progress", b, a), b.jqDeferred && b.jqDeferred.notify && b.jqDeferred.notify(b, a)
            })
        }, g.prototype.complete = function() {
            var a = this.hasAnyBroken ? "fail" : "done";
            this.isComplete = !0;
            var b = this;
            setTimeout(function() {
                if (b.emit(a, b), b.emit("always", b), b.jqDeferred) {
                    var c = b.hasAnyBroken ? "reject" : "resolve";
                    b.jqDeferred[c](b)
                }
            })
        }, j && (j.fn.imagesLoaded = function(a, b) {
            var c = new g(this, a, b);
            return c.jqDeferred.promise(j(this))
        }), h.prototype = new b, h.prototype.check = function() {
            var a = n[this.img.src] || new i(this.img.src);
            if (a.isConfirmed) return void this.confirm(a.isLoaded, "cached was confirmed");
            if (this.img.complete && void 0 !== this.img.naturalWidth) return void this.confirm(0 !== this.img.naturalWidth, "naturalWidth");
            var b = this;
            a.on("confirm", function(a, c) {
                return b.confirm(a.isLoaded, c), !0
            }), a.check()
        }, h.prototype.confirm = function(a, b) {
            this.isLoaded = a, this.emit("confirm", this, b)
        };
        var n = {};
        return i.prototype = new b, i.prototype.check = function() {
            if (!this.isChecked) {
                var a = new Image;
                c.bind(a, "load", this), c.bind(a, "error", this), a.src = this.src, this.isChecked = !0
            }
        }, i.prototype.handleEvent = function(a) {
            var b = "on" + a.type;
            this[b] && this[b](a)
        }, i.prototype.onload = function(a) {
            this.confirm(!0, "onload"), this.unbindProxyEvents(a)
        }, i.prototype.onerror = function(a) {
            this.confirm(!1, "onerror"), this.unbindProxyEvents(a)
        }, i.prototype.confirm = function(a, b) {
            this.isConfirmed = !0, this.isLoaded = a, this.emit("confirm", this, b)
        }, i.prototype.unbindProxyEvents = function(a) {
            c.unbind(a.target, "load", this), c.unbind(a.target, "error", this)
        }, g
    }),
    function(a) {
        function b() {}

        function c(a) {
            function c(b) {
                b.prototype.option || (b.prototype.option = function(b) {
                    a.isPlainObject(b) && (this.options = a.extend(!0, this.options, b))
                })
            }

            function e(b, c) {
                a.fn[b] = function(e) {
                    if ("string" == typeof e) {
                        for (var g = d.call(arguments, 1), h = 0, i = this.length; i > h; h++) {
                            var j = this[h],
                                k = a.data(j, b);
                            if (k)
                                if (a.isFunction(k[e]) && "_" !== e.charAt(0)) {
                                    var l = k[e].apply(k, g);
                                    if (void 0 !== l) return l
                                } else f("no such method '" + e + "' for " + b + " instance");
                            else f("cannot call methods on " + b + " prior to initialization; attempted to call '" + e + "'")
                        }
                        return this
                    }
                    return this.each(function() {
                        var d = a.data(this, b);
                        d ? (d.option(e), d._init()) : (d = new c(this, e), a.data(this, b, d))
                    })
                }
            }
            if (a) {
                var f = "undefined" == typeof console ? b : function(a) {
                    console.error(a)
                };
                return a.bridget = function(a, b) {
                    c(b), e(a, b)
                }, a.bridget
            }
        }
        var d = Array.prototype.slice;
        "function" == typeof define && define.amd ? define("jquery-bridget/jquery.bridget", ["jquery"], c) : c(a.jQuery)
    }(window),
    function(a) {
        function b(b) {
            var c = a.event;
            return c.target = c.target || c.srcElement || b, c
        }
        var c = document.documentElement,
            d = function() {};
        c.addEventListener ? d = function(a, b, c) {
            a.addEventListener(b, c, !1)
        } : c.attachEvent && (d = function(a, c, d) {
            a[c + d] = d.handleEvent ? function() {
                var c = b(a);
                d.handleEvent.call(d, c)
            } : function() {
                var c = b(a);
                d.call(a, c)
            }, a.attachEvent("on" + c, a[c + d])
        });
        var e = function() {};
        c.removeEventListener ? e = function(a, b, c) {
            a.removeEventListener(b, c, !1)
        } : c.detachEvent && (e = function(a, b, c) {
            a.detachEvent("on" + b, a[b + c]);
            try {
                delete a[b + c]
            } catch (d) {
                a[b + c] = void 0
            }
        });
        var f = {
            bind: d,
            unbind: e
        };
        "function" == typeof define && define.amd ? define("eventie/eventie", f) : "object" == typeof exports ? module.exports = f : a.eventie = f
    }(this),
    function(a) {
        function b(a) {
            "function" == typeof a && (b.isReady ? a() : f.push(a))
        }

        function c(a) {
            var c = "readystatechange" === a.type && "complete" !== e.readyState;
            if (!b.isReady && !c) {
                b.isReady = !0;
                for (var d = 0, g = f.length; g > d; d++) {
                    var h = f[d];
                    h()
                }
            }
        }

        function d(d) {
            return d.bind(e, "DOMContentLoaded", c), d.bind(e, "readystatechange", c), d.bind(a, "load", c), b
        }
        var e = a.document,
            f = [];
        b.isReady = !1, "function" == typeof define && define.amd ? (b.isReady = "function" == typeof requirejs, define("doc-ready/doc-ready", ["eventie/eventie"], d)) : a.docReady = d(a.eventie)
    }(this),
    function() {
        function a() {}

        function b(a, b) {
            for (var c = a.length; c--;)
                if (a[c].listener === b) return c;
            return -1
        }

        function c(a) {
            return function() {
                return this[a].apply(this, arguments)
            }
        }
        var d = a.prototype,
            e = this,
            f = e.EventEmitter;
        d.getListeners = function(a) {
            var b, c, d = this._getEvents();
            if (a instanceof RegExp) {
                b = {};
                for (c in d) d.hasOwnProperty(c) && a.test(c) && (b[c] = d[c])
            } else b = d[a] || (d[a] = []);
            return b
        }, d.flattenListeners = function(a) {
            var b, c = [];
            for (b = 0; b < a.length; b += 1) c.push(a[b].listener);
            return c
        }, d.getListenersAsObject = function(a) {
            var b, c = this.getListeners(a);
            return c instanceof Array && (b = {}, b[a] = c), b || c
        }, d.addListener = function(a, c) {
            var d, e = this.getListenersAsObject(a),
                f = "object" == typeof c;
            for (d in e) e.hasOwnProperty(d) && -1 === b(e[d], c) && e[d].push(f ? c : {
                listener: c,
                once: !1
            });
            return this
        }, d.on = c("addListener"), d.addOnceListener = function(a, b) {
            return this.addListener(a, {
                listener: b,
                once: !0
            })
        }, d.once = c("addOnceListener"), d.defineEvent = function(a) {
            return this.getListeners(a), this
        }, d.defineEvents = function(a) {
            for (var b = 0; b < a.length; b += 1) this.defineEvent(a[b]);
            return this
        }, d.removeListener = function(a, c) {
            var d, e, f = this.getListenersAsObject(a);
            for (e in f) f.hasOwnProperty(e) && (d = b(f[e], c), -1 !== d && f[e].splice(d, 1));
            return this
        }, d.off = c("removeListener"), d.addListeners = function(a, b) {
            return this.manipulateListeners(!1, a, b)
        }, d.removeListeners = function(a, b) {
            return this.manipulateListeners(!0, a, b)
        }, d.manipulateListeners = function(a, b, c) {
            var d, e, f = a ? this.removeListener : this.addListener,
                g = a ? this.removeListeners : this.addListeners;
            if ("object" != typeof b || b instanceof RegExp)
                for (d = c.length; d--;) f.call(this, b, c[d]);
            else
                for (d in b) b.hasOwnProperty(d) && (e = b[d]) && ("function" == typeof e ? f.call(this, d, e) : g.call(this, d, e));
            return this
        }, d.removeEvent = function(a) {
            var b, c = typeof a,
                d = this._getEvents();
            if ("string" === c) delete d[a];
            else if (a instanceof RegExp)
                for (b in d) d.hasOwnProperty(b) && a.test(b) && delete d[b];
            else delete this._events;
            return this
        }, d.removeAllListeners = c("removeEvent"), d.emitEvent = function(a, b) {
            var c, d, e, f, g = this.getListenersAsObject(a);
            for (e in g)
                if (g.hasOwnProperty(e))
                    for (d = g[e].length; d--;) c = g[e][d], c.once === !0 && this.removeListener(a, c.listener), f = c.listener.apply(this, b || []), f === this._getOnceReturnValue() && this.removeListener(a, c.listener);
            return this
        }, d.trigger = c("emitEvent"), d.emit = function(a) {
            var b = Array.prototype.slice.call(arguments, 1);
            return this.emitEvent(a, b)
        }, d.setOnceReturnValue = function(a) {
            return this._onceReturnValue = a, this
        }, d._getOnceReturnValue = function() {
            return this.hasOwnProperty("_onceReturnValue") ? this._onceReturnValue : !0
        }, d._getEvents = function() {
            return this._events || (this._events = {})
        }, a.noConflict = function() {
            return e.EventEmitter = f, a
        }, "function" == typeof define && define.amd ? define("eventEmitter/EventEmitter", [], function() {
            return a
        }) : "object" == typeof module && module.exports ? module.exports = a : this.EventEmitter = a
    }.call(this),
    function(a) {
        function b(a) {
            if (a) {
                if ("string" == typeof d[a]) return a;
                a = a.charAt(0).toUpperCase() + a.slice(1);
                for (var b, e = 0, f = c.length; f > e; e++)
                    if (b = c[e] + a, "string" == typeof d[b]) return b
            }
        }
        var c = "Webkit Moz ms Ms O".split(" "),
            d = document.documentElement.style;
        "function" == typeof define && define.amd ? define("get-style-property/get-style-property", [], function() {
            return b
        }) : "object" == typeof exports ? module.exports = b : a.getStyleProperty = b
    }(window),
    function(a) {
        function b(a) {
            var b = parseFloat(a),
                c = -1 === a.indexOf("%") && !isNaN(b);
            return c && b
        }

        function c() {
            for (var a = {
                    width: 0,
                    height: 0,
                    innerWidth: 0,
                    innerHeight: 0,
                    outerWidth: 0,
                    outerHeight: 0
                }, b = 0, c = g.length; c > b; b++) {
                var d = g[b];
                a[d] = 0
            }
            return a
        }

        function d(a) {
            function d(a) {
                if ("string" == typeof a && (a = document.querySelector(a)), a && "object" == typeof a && a.nodeType) {
                    var d = f(a);
                    if ("none" === d.display) return c();
                    var e = {};
                    e.width = a.offsetWidth, e.height = a.offsetHeight;
                    for (var k = e.isBorderBox = !(!j || !d[j] || "border-box" !== d[j]), l = 0, m = g.length; m > l; l++) {
                        var n = g[l],
                            o = d[n];
                        o = h(a, o);
                        var p = parseFloat(o);
                        e[n] = isNaN(p) ? 0 : p
                    }
                    var q = e.paddingLeft + e.paddingRight,
                        r = e.paddingTop + e.paddingBottom,
                        s = e.marginLeft + e.marginRight,
                        t = e.marginTop + e.marginBottom,
                        u = e.borderLeftWidth + e.borderRightWidth,
                        v = e.borderTopWidth + e.borderBottomWidth,
                        w = k && i,
                        x = b(d.width);
                    x !== !1 && (e.width = x + (w ? 0 : q + u));
                    var y = b(d.height);
                    return y !== !1 && (e.height = y + (w ? 0 : r + v)), e.innerWidth = e.width - (q + u), e.innerHeight = e.height - (r + v), e.outerWidth = e.width + s, e.outerHeight = e.height + t, e
                }
            }

            function h(a, b) {
                if (e || -1 === b.indexOf("%")) return b;
                var c = a.style,
                    d = c.left,
                    f = a.runtimeStyle,
                    g = f && f.left;
                return g && (f.left = a.currentStyle.left), c.left = b, b = c.pixelLeft, c.left = d, g && (f.left = g), b
            }
            var i, j = a("boxSizing");
            return function() {
                if (j) {
                    var a = document.createElement("div");
                    a.style.width = "200px", a.style.padding = "1px 2px 3px 4px", a.style.borderStyle = "solid", a.style.borderWidth = "1px 2px 3px 4px", a.style[j] = "border-box";
                    var c = document.body || document.documentElement;
                    c.appendChild(a);
                    var d = f(a);
                    i = 200 === b(d.width), c.removeChild(a)
                }
            }(), d
        }
        var e = a.getComputedStyle,
            f = e ? function(a) {
                return e(a, null)
            } : function(a) {
                return a.currentStyle
            },
            g = ["paddingLeft", "paddingRight", "paddingTop", "paddingBottom", "marginLeft", "marginRight", "marginTop", "marginBottom", "borderLeftWidth", "borderRightWidth", "borderTopWidth", "borderBottomWidth"];
        "function" == typeof define && define.amd ? define("get-size/get-size", ["get-style-property/get-style-property"], d) : "object" == typeof exports ? module.exports = d(require("get-style-property")) : a.getSize = d(a.getStyleProperty)
    }(window),
    function(a, b) {
        function c(a, b) {
            return a[h](b)
        }

        function d(a) {
            if (!a.parentNode) {
                var b = document.createDocumentFragment();
                b.appendChild(a)
            }
        }

        function e(a, b) {
            d(a);
            for (var c = a.parentNode.querySelectorAll(b), e = 0, f = c.length; f > e; e++)
                if (c[e] === a) return !0;
            return !1
        }

        function f(a, b) {
            return d(a), c(a, b)
        }
        var g, h = function() {
            if (b.matchesSelector) return "matchesSelector";
            for (var a = ["webkit", "moz", "ms", "o"], c = 0, d = a.length; d > c; c++) {
                var e = a[c],
                    f = e + "MatchesSelector";
                if (b[f]) return f
            }
        }();
        if (h) {
            var i = document.createElement("div"),
                j = c(i, "div");
            g = j ? c : f
        } else g = e;
        "function" == typeof define && define.amd ? define("matches-selector/matches-selector", [], function() {
            return g
        }) : window.matchesSelector = g
    }(this, Element.prototype),
    function(a) {
        function b(a, b) {
            for (var c in b) a[c] = b[c];
            return a
        }

        function c(a) {
            for (var b in a) return !1;
            return b = null, !0
        }

        function d(a) {
            return a.replace(/([A-Z])/g, function(a) {
                return "-" + a.toLowerCase()
            })
        }

        function e(a, e, f) {
            function h(a, b) {
                a && (this.element = a, this.layout = b, this.position = {
                    x: 0,
                    y: 0
                }, this._create())
            }
            var i = f("transition"),
                j = f("transform"),
                k = i && j,
                l = !!f("perspective"),
                m = {
                    WebkitTransition: "webkitTransitionEnd",
                    MozTransition: "transitionend",
                    OTransition: "otransitionend",
                    transition: "transitionend"
                }[i],
                n = ["transform", "transition", "transitionDuration", "transitionProperty"],
                o = function() {
                    for (var a = {}, b = 0, c = n.length; c > b; b++) {
                        var d = n[b],
                            e = f(d);
                        e && e !== d && (a[d] = e)
                    }
                    return a
                }();
            b(h.prototype, a.prototype), h.prototype._create = function() {
                this._transn = {
                    ingProperties: {},
                    clean: {},
                    onEnd: {}
                }, this.css({
                    position: "absolute"
                })
            }, h.prototype.handleEvent = function(a) {
                var b = "on" + a.type;
                this[b] && this[b](a)
            }, h.prototype.getSize = function() {
                this.size = e(this.element)
            }, h.prototype.css = function(a) {
                var b = this.element.style;
                for (var c in a) {
                    var d = o[c] || c;
                    b[d] = a[c]
                }
            }, h.prototype.getPosition = function() {
                var a = g(this.element),
                    b = this.layout.options,
                    c = b.isOriginLeft,
                    d = b.isOriginTop,
                    e = parseInt(a[c ? "left" : "right"], 10),
                    f = parseInt(a[d ? "top" : "bottom"], 10);
                e = isNaN(e) ? 0 : e, f = isNaN(f) ? 0 : f;
                var h = this.layout.size;
                e -= c ? h.paddingLeft : h.paddingRight, f -= d ? h.paddingTop : h.paddingBottom, this.position.x = e, this.position.y = f
            }, h.prototype.layoutPosition = function() {
                var a = this.layout.size,
                    b = this.layout.options,
                    c = {};
                b.isOriginLeft ? (c.left = this.position.x + a.paddingLeft + "px", c.right = "") : (c.right = this.position.x + a.paddingRight + "px", c.left = ""), b.isOriginTop ? (c.top = this.position.y + a.paddingTop + "px", c.bottom = "") : (c.bottom = this.position.y + a.paddingBottom + "px", c.top = ""), this.css(c), this.emitEvent("layout", [this])
            };
            var p = l ? function(a, b) {
                return "translate3d(" + a + "px, " + b + "px, 0)"
            } : function(a, b) {
                return "translate(" + a + "px, " + b + "px)"
            };
            h.prototype._transitionTo = function(a, b) {
                this.getPosition();
                var c = this.position.x,
                    d = this.position.y,
                    e = parseInt(a, 10),
                    f = parseInt(b, 10),
                    g = e === this.position.x && f === this.position.y;
                if (this.setPosition(a, b), g && !this.isTransitioning) return void this.layoutPosition();
                var h = a - c,
                    i = b - d,
                    j = {},
                    k = this.layout.options;
                h = k.isOriginLeft ? h : -h, i = k.isOriginTop ? i : -i, j.transform = p(h, i), this.transition({
                    to: j,
                    onTransitionEnd: {
                        transform: this.layoutPosition
                    },
                    isCleaning: !0
                })
            }, h.prototype.goTo = function(a, b) {
                this.setPosition(a, b), this.layoutPosition()
            }, h.prototype.moveTo = k ? h.prototype._transitionTo : h.prototype.goTo, h.prototype.setPosition = function(a, b) {
                this.position.x = parseInt(a, 10), this.position.y = parseInt(b, 10)
            }, h.prototype._nonTransition = function(a) {
                this.css(a.to), a.isCleaning && this._removeStyles(a.to);
                for (var b in a.onTransitionEnd) a.onTransitionEnd[b].call(this)
            }, h.prototype._transition = function(a) {
                if (!parseFloat(this.layout.options.transitionDuration)) return void this._nonTransition(a);
                var b = this._transn;
                for (var c in a.onTransitionEnd) b.onEnd[c] = a.onTransitionEnd[c];
                for (c in a.to) b.ingProperties[c] = !0, a.isCleaning && (b.clean[c] = !0);
                if (a.from) {
                    this.css(a.from);
                    var d = this.element.offsetHeight;
                    d = null
                }
                this.enableTransition(a.to), this.css(a.to), this.isTransitioning = !0
            };
            var q = j && d(j) + ",opacity";
            h.prototype.enableTransition = function() {
                this.isTransitioning || (this.css({
                    transitionProperty: q,
                    transitionDuration: this.layout.options.transitionDuration
                }), this.element.addEventListener(m, this, !1))
            }, h.prototype.transition = h.prototype[i ? "_transition" : "_nonTransition"], h.prototype.onwebkitTransitionEnd = function(a) {
                this.ontransitionend(a)
            }, h.prototype.onotransitionend = function(a) {
                this.ontransitionend(a)
            };
            var r = {
                "-webkit-transform": "transform",
                "-moz-transform": "transform",
                "-o-transform": "transform"
            };
            h.prototype.ontransitionend = function(a) {
                if (a.target === this.element) {
                    var b = this._transn,
                        d = r[a.propertyName] || a.propertyName;
                    if (delete b.ingProperties[d], c(b.ingProperties) && this.disableTransition(), d in b.clean && (this.element.style[a.propertyName] = "", delete b.clean[d]), d in b.onEnd) {
                        var e = b.onEnd[d];
                        e.call(this), delete b.onEnd[d]
                    }
                    this.emitEvent("transitionEnd", [this])
                }
            }, h.prototype.disableTransition = function() {
                this.removeTransitionStyles(), this.element.removeEventListener(m, this, !1), this.isTransitioning = !1
            }, h.prototype._removeStyles = function(a) {
                var b = {};
                for (var c in a) b[c] = "";
                this.css(b)
            };
            var s = {
                transitionProperty: "",
                transitionDuration: ""
            };
            return h.prototype.removeTransitionStyles = function() {
                this.css(s)
            }, h.prototype.removeElem = function() {
                this.element.parentNode.removeChild(this.element), this.emitEvent("remove", [this])
            }, h.prototype.remove = function() {
                if (!i || !parseFloat(this.layout.options.transitionDuration)) return void this.removeElem();
                var a = this;
                this.on("transitionEnd", function() {
                    return a.removeElem(), !0
                }), this.hide()
            }, h.prototype.reveal = function() {
                delete this.isHidden, this.css({
                    display: ""
                });
                var a = this.layout.options;
                this.transition({
                    from: a.hiddenStyle,
                    to: a.visibleStyle,
                    isCleaning: !0
                })
            }, h.prototype.hide = function() {
                this.isHidden = !0, this.css({
                    display: ""
                });
                var a = this.layout.options;
                this.transition({
                    from: a.visibleStyle,
                    to: a.hiddenStyle,
                    isCleaning: !0,
                    onTransitionEnd: {
                        opacity: function() {
                            this.isHidden && this.css({
                                display: "none"
                            })
                        }
                    }
                })
            }, h.prototype.destroy = function() {
                this.css({
                    position: "",
                    left: "",
                    right: "",
                    top: "",
                    bottom: "",
                    transition: "",
                    transform: ""
                })
            }, h
        }
        var f = a.getComputedStyle,
            g = f ? function(a) {
                return f(a, null)
            } : function(a) {
                return a.currentStyle
            };
        "function" == typeof define && define.amd ? define("outlayer/item", ["eventEmitter/EventEmitter", "get-size/get-size", "get-style-property/get-style-property"], e) : (a.Outlayer = {}, a.Outlayer.Item = e(a.EventEmitter, a.getSize, a.getStyleProperty))
    }(window),
    function(a) {
        function b(a, b) {
            for (var c in b) a[c] = b[c];
            return a
        }

        function c(a) {
            return "[object Array]" === l.call(a)
        }

        function d(a) {
            var b = [];
            if (c(a)) b = a;
            else if (a && "number" == typeof a.length)
                for (var d = 0, e = a.length; e > d; d++) b.push(a[d]);
            else b.push(a);
            return b
        }

        function e(a, b) {
            var c = n(b, a); - 1 !== c && b.splice(c, 1)
        }

        function f(a) {
            return a.replace(/(.)([A-Z])/g, function(a, b, c) {
                return b + "-" + c
            }).toLowerCase()
        }

        function g(c, g, l, n, o, p) {
            function q(a, c) {
                if ("string" == typeof a && (a = h.querySelector(a)), !a || !m(a)) return void(i && i.error("Bad " + this.constructor.namespace + " element: " + a));
                this.element = a, this.options = b({}, this.constructor.defaults), this.option(c);
                var d = ++r;
                this.element.outlayerGUID = d, s[d] = this, this._create(), this.options.isInitLayout && this.layout()
            }
            var r = 0,
                s = {};
            return q.namespace = "outlayer", q.Item = p, q.defaults = {
                containerStyle: {
                    position: "relative"
                },
                isInitLayout: !0,
                isOriginLeft: !0,
                isOriginTop: !0,
                isResizeBound: !0,
                isResizingContainer: !0,
                transitionDuration: "0.4s",
                hiddenStyle: {
                    opacity: 0,
                    transform: "scale(0.001)"
                },
                visibleStyle: {
                    opacity: 1,
                    transform: "scale(1)"
                }
            }, b(q.prototype, l.prototype), q.prototype.option = function(a) {
                b(this.options, a)
            }, q.prototype._create = function() {
                this.reloadItems(), this.stamps = [], this.stamp(this.options.stamp), b(this.element.style, this.options.containerStyle), this.options.isResizeBound && this.bindResize()
            }, q.prototype.reloadItems = function() {
                this.items = this._itemize(this.element.children)
            }, q.prototype._itemize = function(a) {
                for (var b = this._filterFindItemElements(a), c = this.constructor.Item, d = [], e = 0, f = b.length; f > e; e++) {
                    var g = b[e],
                        h = new c(g, this);
                    d.push(h)
                }
                return d
            }, q.prototype._filterFindItemElements = function(a) {
                a = d(a);
                for (var b = this.options.itemSelector, c = [], e = 0, f = a.length; f > e; e++) {
                    var g = a[e];
                    if (m(g))
                        if (b) {
                            o(g, b) && c.push(g);
                            for (var h = g.querySelectorAll(b), i = 0, j = h.length; j > i; i++) c.push(h[i])
                        } else c.push(g)
                }
                return c
            }, q.prototype.getItemElements = function() {
                for (var a = [], b = 0, c = this.items.length; c > b; b++) a.push(this.items[b].element);
                return a
            }, q.prototype.layout = function() {
                this._resetLayout(), this._manageStamps();
                var a = void 0 !== this.options.isLayoutInstant ? this.options.isLayoutInstant : !this._isLayoutInited;
                this.layoutItems(this.items, a), this._isLayoutInited = !0
            }, q.prototype._init = q.prototype.layout, q.prototype._resetLayout = function() {
                this.getSize()
            }, q.prototype.getSize = function() {
                this.size = n(this.element)
            }, q.prototype._getMeasurement = function(a, b) {
                var c, d = this.options[a];
                d ? ("string" == typeof d ? c = this.element.querySelector(d) : m(d) && (c = d), this[a] = c ? n(c)[b] : d) : this[a] = 0
            }, q.prototype.layoutItems = function(a, b) {
                a = this._getItemsForLayout(a), this._layoutItems(a, b), this._postLayout()
            }, q.prototype._getItemsForLayout = function(a) {
                for (var b = [], c = 0, d = a.length; d > c; c++) {
                    var e = a[c];
                    e.isIgnored || b.push(e)
                }
                return b
            }, q.prototype._layoutItems = function(a, b) {
                function c() {
                    d.emitEvent("layoutComplete", [d, a])
                }
                var d = this;
                if (!a || !a.length) return void c();
                this._itemsOn(a, "layout", c);
                for (var e = [], f = 0, g = a.length; g > f; f++) {
                    var h = a[f],
                        i = this._getItemLayoutPosition(h);
                    i.item = h, i.isInstant = b || h.isLayoutInstant, e.push(i)
                }
                this._processLayoutQueue(e)
            }, q.prototype._getItemLayoutPosition = function() {
                return {
                    x: 0,
                    y: 0
                }
            }, q.prototype._processLayoutQueue = function(a) {
                for (var b = 0, c = a.length; c > b; b++) {
                    var d = a[b];
                    this._positionItem(d.item, d.x, d.y, d.isInstant)
                }
            }, q.prototype._positionItem = function(a, b, c, d) {
                d ? a.goTo(b, c) : a.moveTo(b, c)
            }, q.prototype._postLayout = function() {
                this.resizeContainer()
            }, q.prototype.resizeContainer = function() {
                if (this.options.isResizingContainer) {
                    var a = this._getContainerSize();
                    a && (this._setContainerMeasure(a.width, !0), this._setContainerMeasure(a.height, !1))
                }
            }, q.prototype._getContainerSize = k, q.prototype._setContainerMeasure = function(a, b) {
                if (void 0 !== a) {
                    var c = this.size;
                    c.isBorderBox && (a += b ? c.paddingLeft + c.paddingRight + c.borderLeftWidth + c.borderRightWidth : c.paddingBottom + c.paddingTop + c.borderTopWidth + c.borderBottomWidth), a = Math.max(a, 0), this.element.style[b ? "width" : "height"] = a + "px"
                }
            }, q.prototype._itemsOn = function(a, b, c) {
                function d() {
                    return e++, e === f && c.call(g), !0
                }
                for (var e = 0, f = a.length, g = this, h = 0, i = a.length; i > h; h++) {
                    var j = a[h];
                    j.on(b, d)
                }
            }, q.prototype.ignore = function(a) {
                var b = this.getItem(a);
                b && (b.isIgnored = !0)
            }, q.prototype.unignore = function(a) {
                var b = this.getItem(a);
                b && delete b.isIgnored
            }, q.prototype.stamp = function(a) {
                if (a = this._find(a)) {
                    this.stamps = this.stamps.concat(a);
                    for (var b = 0, c = a.length; c > b; b++) {
                        var d = a[b];
                        this.ignore(d)
                    }
                }
            }, q.prototype.unstamp = function(a) {
                if (a = this._find(a))
                    for (var b = 0, c = a.length; c > b; b++) {
                        var d = a[b];
                        e(d, this.stamps), this.unignore(d)
                    }
            }, q.prototype._find = function(a) {
                return a ? ("string" == typeof a && (a = this.element.querySelectorAll(a)), a = d(a)) : void 0
            }, q.prototype._manageStamps = function() {
                if (this.stamps && this.stamps.length) {
                    this._getBoundingRect();
                    for (var a = 0, b = this.stamps.length; b > a; a++) {
                        var c = this.stamps[a];
                        this._manageStamp(c)
                    }
                }
            }, q.prototype._getBoundingRect = function() {
                var a = this.element.getBoundingClientRect(),
                    b = this.size;
                this._boundingRect = {
                    left: a.left + b.paddingLeft + b.borderLeftWidth,
                    top: a.top + b.paddingTop + b.borderTopWidth,
                    right: a.right - (b.paddingRight + b.borderRightWidth),
                    bottom: a.bottom - (b.paddingBottom + b.borderBottomWidth)
                }
            }, q.prototype._manageStamp = k, q.prototype._getElementOffset = function(a) {
                var b = a.getBoundingClientRect(),
                    c = this._boundingRect,
                    d = n(a),
                    e = {
                        left: b.left - c.left - d.marginLeft,
                        top: b.top - c.top - d.marginTop,
                        right: c.right - b.right - d.marginRight,
                        bottom: c.bottom - b.bottom - d.marginBottom
                    };
                return e
            }, q.prototype.handleEvent = function(a) {
                var b = "on" + a.type;
                this[b] && this[b](a)
            }, q.prototype.bindResize = function() {
                this.isResizeBound || (c.bind(a, "resize", this), this.isResizeBound = !0)
            }, q.prototype.unbindResize = function() {
                this.isResizeBound && c.unbind(a, "resize", this), this.isResizeBound = !1
            }, q.prototype.onresize = function() {
                function a() {
                    b.resize(), delete b.resizeTimeout
                }
                this.resizeTimeout && clearTimeout(this.resizeTimeout);
                var b = this;
                this.resizeTimeout = setTimeout(a, 100)
            }, q.prototype.resize = function() {
                this.isResizeBound && this.needsResizeLayout() && this.layout()
            }, q.prototype.needsResizeLayout = function() {
                var a = n(this.element),
                    b = this.size && a;
                return b && a.innerWidth !== this.size.innerWidth
            }, q.prototype.addItems = function(a) {
                var b = this._itemize(a);
                return b.length && (this.items = this.items.concat(b)), b
            }, q.prototype.appended = function(a) {
                var b = this.addItems(a);
                b.length && (this.layoutItems(b, !0), this.reveal(b))
            }, q.prototype.prepended = function(a) {
                var b = this._itemize(a);
                if (b.length) {
                    var c = this.items.slice(0);
                    this.items = b.concat(c), this._resetLayout(), this._manageStamps(), this.layoutItems(b, !0), this.reveal(b), this.layoutItems(c)
                }
            }, q.prototype.reveal = function(a) {
                var b = a && a.length;
                if (b)
                    for (var c = 0; b > c; c++) {
                        var d = a[c];
                        d.reveal()
                    }
            }, q.prototype.hide = function(a) {
                var b = a && a.length;
                if (b)
                    for (var c = 0; b > c; c++) {
                        var d = a[c];
                        d.hide()
                    }
            }, q.prototype.getItem = function(a) {
                for (var b = 0, c = this.items.length; c > b; b++) {
                    var d = this.items[b];
                    if (d.element === a) return d
                }
            }, q.prototype.getItems = function(a) {
                if (a && a.length) {
                    for (var b = [], c = 0, d = a.length; d > c; c++) {
                        var e = a[c],
                            f = this.getItem(e);
                        f && b.push(f)
                    }
                    return b
                }
            }, q.prototype.remove = function(a) {
                a = d(a);
                var b = this.getItems(a);
                if (b && b.length) {
                    this._itemsOn(b, "remove", function() {
                        this.emitEvent("removeComplete", [this, b])
                    });
                    for (var c = 0, f = b.length; f > c; c++) {
                        var g = b[c];
                        g.remove(), e(g, this.items)
                    }
                }
            }, q.prototype.destroy = function() {
                var a = this.element.style;
                a.height = "", a.position = "", a.width = "";
                for (var b = 0, c = this.items.length; c > b; b++) {
                    var d = this.items[b];
                    d.destroy()
                }
                this.unbindResize(), delete this.element.outlayerGUID, j && j.removeData(this.element, this.constructor.namespace)
            }, q.data = function(a) {
                var b = a && a.outlayerGUID;
                return b && s[b]
            }, q.create = function(a, c) {
                function d() {
                    q.apply(this, arguments)
                }
                return Object.create ? d.prototype = Object.create(q.prototype) : b(d.prototype, q.prototype), d.prototype.constructor = d, d.defaults = b({}, q.defaults), b(d.defaults, c), d.prototype.settings = {}, d.namespace = a, d.data = q.data, d.Item = function() {
                    p.apply(this, arguments)
                }, d.Item.prototype = new p, g(function() {
                    for (var b = f(a), c = h.querySelectorAll(".js-" + b), e = "data-" + b + "-options", g = 0, k = c.length; k > g; g++) {
                        var l, m = c[g],
                            n = m.getAttribute(e);
                        try {
                            l = n && JSON.parse(n)
                        } catch (o) {
                            i && i.error("Error parsing " + e + " on " + m.nodeName.toLowerCase() + (m.id ? "#" + m.id : "") + ": " + o);
                            continue
                        }
                        var p = new d(m, l);
                        j && j.data(m, a, p)
                    }
                }), j && j.bridget && j.bridget(a, d), d
            }, q.Item = p, q
        }
        var h = a.document,
            i = a.console,
            j = a.jQuery,
            k = function() {},
            l = Object.prototype.toString,
            m = "object" == typeof HTMLElement ? function(a) {
                return a instanceof HTMLElement
            } : function(a) {
                return a && "object" == typeof a && 1 === a.nodeType && "string" == typeof a.nodeName
            },
            n = Array.prototype.indexOf ? function(a, b) {
                return a.indexOf(b)
            } : function(a, b) {
                for (var c = 0, d = a.length; d > c; c++)
                    if (a[c] === b) return c;
                return -1
            };
        "function" == typeof define && define.amd ? define("outlayer/outlayer", ["eventie/eventie", "doc-ready/doc-ready", "eventEmitter/EventEmitter", "get-size/get-size", "matches-selector/matches-selector", "./item"], g) : a.Outlayer = g(a.eventie, a.docReady, a.EventEmitter, a.getSize, a.matchesSelector, a.Outlayer.Item)
    }(window),
    function(a) {
        function b(a) {
            function b() {
                a.Item.apply(this, arguments)
            }
            return b.prototype = new a.Item, b.prototype._create = function() {
                this.id = this.layout.itemGUID++, a.Item.prototype._create.call(this), this.sortData = {}
            }, b.prototype.updateSortData = function() {
                if (!this.isIgnored) {
                    this.sortData.id = this.id, this.sortData["original-order"] = this.id, this.sortData.random = Math.random();
                    var a = this.layout.options.getSortData,
                        b = this.layout._sorters;
                    for (var c in a) {
                        var d = b[c];
                        this.sortData[c] = d(this.element, this)
                    }
                }
            }, b
        }
        "function" == typeof define && define.amd ? define("isotope/js/item", ["outlayer/outlayer"], b) : (a.Isotope = a.Isotope || {}, a.Isotope.Item = b(a.Outlayer))
    }(window),
    function(a) {
        function b(a, b) {
            function c(a) {
                this.isotope = a, a && (this.options = a.options[this.namespace], this.element = a.element, this.items = a.filteredItems, this.size = a.size)
            }
            return function() {
                function a(a) {
                    return function() {
                        return b.prototype[a].apply(this.isotope, arguments)
                    }
                }
                for (var d = ["_resetLayout", "_getItemLayoutPosition", "_manageStamp", "_getContainerSize", "_getElementOffset", "needsResizeLayout"], e = 0, f = d.length; f > e; e++) {
                    var g = d[e];
                    c.prototype[g] = a(g)
                }
            }(), c.prototype.needsVerticalResizeLayout = function() {
                var b = a(this.isotope.element),
                    c = this.isotope.size && b;
                return c && b.innerHeight !== this.isotope.size.innerHeight
            }, c.prototype._getMeasurement = function() {
                this.isotope._getMeasurement.apply(this, arguments)
            }, c.prototype.getColumnWidth = function() {
                this.getSegmentSize("column", "Width")
            }, c.prototype.getRowHeight = function() {
                this.getSegmentSize("row", "Height")
            }, c.prototype.getSegmentSize = function(a, b) {
                var c = a + b,
                    d = "outer" + b;
                if (this._getMeasurement(c, d), !this[c]) {
                    var e = this.getFirstItemSize();
                    this[c] = e && e[d] || this.isotope.size["inner" + b]
                }
            }, c.prototype.getFirstItemSize = function() {
                var b = this.isotope.filteredItems[0];
                return b && b.element && a(b.element)
            }, c.prototype.layout = function() {
                this.isotope.layout.apply(this.isotope, arguments)
            }, c.prototype.getSize = function() {
                this.isotope.getSize(), this.size = this.isotope.size
            }, c.modes = {}, c.create = function(a, b) {
                function d() {
                    c.apply(this, arguments)
                }
                return d.prototype = new c, b && (d.options = b), d.prototype.namespace = a, c.modes[a] = d, d
            }, c
        }
        "function" == typeof define && define.amd ? define("isotope/js/layout-mode", ["get-size/get-size", "outlayer/outlayer"], b) : (a.Isotope = a.Isotope || {}, a.Isotope.LayoutMode = b(a.getSize, a.Outlayer))
    }(window),
    function(a) {
        function b(a, b) {
            var d = a.create("masonry");
            return d.prototype._resetLayout = function() {
                this.getSize(), this._getMeasurement("columnWidth", "outerWidth"), this._getMeasurement("gutter", "outerWidth"), this.measureColumns();
                var a = this.cols;
                for (this.colYs = []; a--;) this.colYs.push(0);
                this.maxY = 0
            }, d.prototype.measureColumns = function() {
                if (this.getContainerWidth(), !this.columnWidth) {
                    var a = this.items[0],
                        c = a && a.element;
                    this.columnWidth = c && b(c).outerWidth || this.containerWidth
                }
                this.columnWidth += this.gutter, this.cols = Math.floor((this.containerWidth + this.gutter) / this.columnWidth), this.cols = Math.max(this.cols, 1)
            }, d.prototype.getContainerWidth = function() {
                var a = this.options.isFitWidth ? this.element.parentNode : this.element,
                    c = b(a);
                this.containerWidth = c && c.innerWidth
            }, d.prototype._getItemLayoutPosition = function(a) {
                a.getSize();
                var b = a.size.outerWidth % this.columnWidth,
                    d = b && 1 > b ? "round" : "ceil",
                    e = Math[d](a.size.outerWidth / this.columnWidth);
                e = Math.min(e, this.cols);
                for (var f = this._getColGroup(e), g = Math.min.apply(Math, f), h = c(f, g), i = {
                        x: this.columnWidth * h,
                        y: g
                    }, j = g + a.size.outerHeight, k = this.cols + 1 - f.length, l = 0; k > l; l++) this.colYs[h + l] = j;
                return i
            }, d.prototype._getColGroup = function(a) {
                if (2 > a) return this.colYs;
                for (var b = [], c = this.cols + 1 - a, d = 0; c > d; d++) {
                    var e = this.colYs.slice(d, d + a);
                    b[d] = Math.max.apply(Math, e)
                }
                return b
            }, d.prototype._manageStamp = function(a) {
                var c = b(a),
                    d = this._getElementOffset(a),
                    e = this.options.isOriginLeft ? d.left : d.right,
                    f = e + c.outerWidth,
                    g = Math.floor(e / this.columnWidth);
                g = Math.max(0, g);
                var h = Math.floor(f / this.columnWidth);
                h -= f % this.columnWidth ? 0 : 1, h = Math.min(this.cols - 1, h);
                for (var i = (this.options.isOriginTop ? d.top : d.bottom) + c.outerHeight, j = g; h >= j; j++) this.colYs[j] = Math.max(i, this.colYs[j])
            }, d.prototype._getContainerSize = function() {
                this.maxY = Math.max.apply(Math, this.colYs);
                var a = {
                    height: this.maxY
                };
                return this.options.isFitWidth && (a.width = this._getContainerFitWidth()), a
            }, d.prototype._getContainerFitWidth = function() {
                for (var a = 0, b = this.cols; --b && 0 === this.colYs[b];) a++;
                return (this.cols - a) * this.columnWidth - this.gutter
            }, d.prototype.needsResizeLayout = function() {
                var a = this.containerWidth;
                return this.getContainerWidth(), a !== this.containerWidth
            }, d
        }
        var c = Array.prototype.indexOf ? function(a, b) {
            return a.indexOf(b)
        } : function(a, b) {
            for (var c = 0, d = a.length; d > c; c++) {
                var e = a[c];
                if (e === b) return c
            }
            return -1
        };
        "function" == typeof define && define.amd ? define("masonry/masonry", ["outlayer/outlayer", "get-size/get-size"], b) : a.Masonry = b(a.Outlayer, a.getSize)
    }(window),
    function(a) {
        function b(a, b) {
            for (var c in b) a[c] = b[c];
            return a
        }

        function c(a, c) {
            var d = a.create("masonry"),
                e = d.prototype._getElementOffset,
                f = d.prototype.layout,
                g = d.prototype._getMeasurement;
            b(d.prototype, c.prototype), d.prototype._getElementOffset = e, d.prototype.layout = f, d.prototype._getMeasurement = g;
            var h = d.prototype.measureColumns;
            d.prototype.measureColumns = function() {
                this.items = this.isotope.filteredItems, h.call(this)
            };
            var i = d.prototype._manageStamp;
            return d.prototype._manageStamp = function() {
                this.options.isOriginLeft = this.isotope.options.isOriginLeft, this.options.isOriginTop = this.isotope.options.isOriginTop, i.apply(this, arguments)
            }, d
        }
        "function" == typeof define && define.amd ? define("isotope/js/layout-modes/masonry", ["../layout-mode", "masonry/masonry"], c) : c(a.Isotope.LayoutMode, a.Masonry)
    }(window),
    function(a) {
        function b(a) {
            var b = a.create("fitRows");
            return b.prototype._resetLayout = function() {
                this.x = 0, this.y = 0, this.maxY = 0
            }, b.prototype._getItemLayoutPosition = function(a) {
                a.getSize(), 0 !== this.x && a.size.outerWidth + this.x > this.isotope.size.innerWidth && (this.x = 0, this.y = this.maxY);
                var b = {
                    x: this.x,
                    y: this.y
                };
                return this.maxY = Math.max(this.maxY, this.y + a.size.outerHeight), this.x += a.size.outerWidth, b
            }, b.prototype._getContainerSize = function() {
                return {
                    height: this.maxY
                }
            }, b
        }
        "function" == typeof define && define.amd ? define("isotope/js/layout-modes/fit-rows", ["../layout-mode"], b) : b(a.Isotope.LayoutMode)
    }(window),
    function(a) {
        function b(a) {
            var b = a.create("vertical", {
                horizontalAlignment: 0
            });
            return b.prototype._resetLayout = function() {
                this.y = 0
            }, b.prototype._getItemLayoutPosition = function(a) {
                a.getSize();
                var b = (this.isotope.size.innerWidth - a.size.outerWidth) * this.options.horizontalAlignment,
                    c = this.y;
                return this.y += a.size.outerHeight, {
                    x: b,
                    y: c
                }
            }, b.prototype._getContainerSize = function() {
                return {
                    height: this.y
                }
            }, b
        }
        "function" == typeof define && define.amd ? define("isotope/js/layout-modes/vertical", ["../layout-mode"], b) : b(a.Isotope.LayoutMode)
    }(window),
    function(a) {
        function b(a, b) {
            for (var c in b) a[c] = b[c];
            return a
        }

        function c(a) {
            return "[object Array]" === k.call(a)
        }

        function d(a) {
            var b = [];
            if (c(a)) b = a;
            else if (a && "number" == typeof a.length)
                for (var d = 0, e = a.length; e > d; d++) b.push(a[d]);
            else b.push(a);
            return b
        }

        function e(a, b) {
            var c = l(b, a); - 1 !== c && b.splice(c, 1)
        }

        function f(a, c, f, i, k) {
            function l(a, b) {
                return function(c, d) {
                    for (var e = 0, f = a.length; f > e; e++) {
                        var g = a[e],
                            h = c.sortData[g],
                            i = d.sortData[g];
                        if (h > i || i > h) {
                            var j = void 0 !== b[g] ? b[g] : b,
                                k = j ? 1 : -1;
                            return (h > i ? 1 : -1) * k
                        }
                    }
                    return 0
                }
            }
            var m = a.create("isotope", {
                layoutMode: "masonry",
                isJQueryFiltering: !0,
                sortAscending: !0
            });
            m.Item = i, m.LayoutMode = k, m.prototype._create = function() {
                this.itemGUID = 0, this._sorters = {}, this._getSorters(), a.prototype._create.call(this), this.modes = {}, this.filteredItems = this.items, this.sortHistory = ["original-order"];
                for (var b in k.modes) this._initLayoutMode(b)
            }, m.prototype.reloadItems = function() {
                this.itemGUID = 0, a.prototype.reloadItems.call(this)
            }, m.prototype._itemize = function() {
                for (var b = a.prototype._itemize.apply(this, arguments), c = 0, d = b.length; d > c; c++) {
                    var e = b[c];
                    e.id = this.itemGUID++
                }
                return this._updateItemsSortData(b), b
            }, m.prototype._initLayoutMode = function(a) {
                var c = k.modes[a],
                    d = this.options[a] || {};
                this.options[a] = c.options ? b(c.options, d) : d, this.modes[a] = new c(this)
            }, m.prototype.layout = function() {
                return !this._isLayoutInited && this.options.isInitLayout ? void this.arrange() : void this._layout()
            }, m.prototype._layout = function() {
                var a = this._getIsInstant();
                this._resetLayout(), this._manageStamps(), this.layoutItems(this.filteredItems, a), this._isLayoutInited = !0
            }, m.prototype.arrange = function(a) {
                this.option(a), this._getIsInstant(), this.filteredItems = this._filter(this.items), this._sort(), this._layout()
            }, m.prototype._init = m.prototype.arrange, m.prototype._getIsInstant = function() {
                var a = void 0 !== this.options.isLayoutInstant ? this.options.isLayoutInstant : !this._isLayoutInited;
                return this._isInstant = a, a
            }, m.prototype._filter = function(a) {
                function b() {
                    l.reveal(e), l.hide(f)
                }
                var c = this.options.filter;
                c = c || "*";
                for (var d = [], e = [], f = [], g = this._getFilterTest(c), h = 0, i = a.length; i > h; h++) {
                    var j = a[h];
                    if (!j.isIgnored) {
                        var k = g(j);
                        k && d.push(j), k && j.isHidden ? e.push(j) : k || j.isHidden || f.push(j)
                    }
                }
                var l = this;
                return this._isInstant ? this._noTransition(b) : b(), d
            }, m.prototype._getFilterTest = function(a) {
                return g && this.options.isJQueryFiltering ? function(b) {
                    return g(b.element).is(a)
                } : "function" == typeof a ? function(b) {
                    return a(b.element)
                } : function(b) {
                    return f(b.element, a)
                }
            }, m.prototype.updateSortData = function(a) {
                this._getSorters(), a = d(a);
                var b = this.getItems(a);
                b = b.length ? b : this.items, this._updateItemsSortData(b)
            }, m.prototype._getSorters = function() {
                var a = this.options.getSortData;
                for (var b in a) {
                    var c = a[b];
                    this._sorters[b] = n(c)
                }
            }, m.prototype._updateItemsSortData = function(a) {
                for (var b = 0, c = a.length; c > b; b++) {
                    var d = a[b];
                    d.updateSortData()
                }
            };
            var n = function() {
                function a(a) {
                    if ("string" != typeof a) return a;
                    var c = h(a).split(" "),
                        d = c[0],
                        e = d.match(/^\[(.+)\]$/),
                        f = e && e[1],
                        g = b(f, d),
                        i = m.sortDataParsers[c[1]];
                    return a = i ? function(a) {
                        return a && i(g(a))
                    } : function(a) {
                        return a && g(a)
                    }
                }

                function b(a, b) {
                    var c;
                    return c = a ? function(b) {
                        return b.getAttribute(a)
                    } : function(a) {
                        var c = a.querySelector(b);
                        return c && j(c)
                    }
                }
                return a
            }();
            m.sortDataParsers = {
                parseInt: function(a) {
                    return parseInt(a, 10)
                },
                parseFloat: function(a) {
                    return parseFloat(a)
                }
            }, m.prototype._sort = function() {
                var a = this.options.sortBy;
                if (a) {
                    var b = [].concat.apply(a, this.sortHistory),
                        c = l(b, this.options.sortAscending);
                    this.filteredItems.sort(c), a !== this.sortHistory[0] && this.sortHistory.unshift(a)
                }
            }, m.prototype._mode = function() {
                var a = this.options.layoutMode,
                    b = this.modes[a];
                if (!b) throw new Error("No layout mode: " + a);
                return b.options = this.options[a], b
            }, m.prototype._resetLayout = function() {
                a.prototype._resetLayout.call(this), this._mode()._resetLayout()
            }, m.prototype._getItemLayoutPosition = function(a) {
                return this._mode()._getItemLayoutPosition(a)
            }, m.prototype._manageStamp = function(a) {
                this._mode()._manageStamp(a)
            }, m.prototype._getContainerSize = function() {
                return this._mode()._getContainerSize()
            }, m.prototype.needsResizeLayout = function() {
                return this._mode().needsResizeLayout()
            }, m.prototype.appended = function(a) {
                var b = this.addItems(a);
                if (b.length) {
                    var c = this._filterRevealAdded(b);
                    this.filteredItems = this.filteredItems.concat(c)
                }
            }, m.prototype.prepended = function(a) {
                var b = this._itemize(a);
                if (b.length) {
                    var c = this.items.slice(0);
                    this.items = b.concat(c), this._resetLayout(), this._manageStamps();
                    var d = this._filterRevealAdded(b);
                    this.layoutItems(c), this.filteredItems = d.concat(this.filteredItems)
                }
            }, m.prototype._filterRevealAdded = function(a) {
                var b = this._noTransition(function() {
                    return this._filter(a)
                });
                return this.layoutItems(b, !0), this.reveal(b), a
            }, m.prototype.insert = function(a) {
                var b = this.addItems(a);
                if (b.length) {
                    var c, d, e = b.length;
                    for (c = 0; e > c; c++) d = b[c], this.element.appendChild(d.element);
                    var f = this._filter(b);
                    for (this._noTransition(function() {
                            this.hide(f)
                        }), c = 0; e > c; c++) b[c].isLayoutInstant = !0;
                    for (this.arrange(), c = 0; e > c; c++) delete b[c].isLayoutInstant;
                    this.reveal(f)
                }
            };
            var o = m.prototype.remove;
            return m.prototype.remove = function(a) {
                a = d(a);
                var b = this.getItems(a);
                if (o.call(this, a), b && b.length)
                    for (var c = 0, f = b.length; f > c; c++) {
                        var g = b[c];
                        e(g, this.filteredItems)
                    }
            }, m.prototype._noTransition = function(a) {
                var b = this.options.transitionDuration;
                this.options.transitionDuration = 0;
                var c = a.call(this);
                return this.options.transitionDuration = b, c
            }, m
        }
        var g = a.jQuery,
            h = String.prototype.trim ? function(a) {
                return a.trim()
            } : function(a) {
                return a.replace(/^\s+|\s+$/g, "")
            },
            i = document.documentElement,
            j = i.textContent ? function(a) {
                return a.textContent
            } : function(a) {
                return a.innerText
            },
            k = Object.prototype.toString,
            l = Array.prototype.indexOf ? function(a, b) {
                return a.indexOf(b)
            } : function(a, b) {
                for (var c = 0, d = a.length; d > c; c++)
                    if (a[c] === b) return c;
                return -1
            };
        "function" == typeof define && define.amd ? define(["outlayer/outlayer", "get-size/get-size", "matches-selector/matches-selector", "isotope/js/item", "isotope/js/layout-mode", "isotope/js/layout-modes/masonry", "isotope/js/layout-modes/fit-rows", "isotope/js/layout-modes/vertical"], f) : a.Isotope = f(a.Outlayer, a.getSize, a.matchesSelector, a.Isotope.Item, a.Isotope.LayoutMode)
    }(window),
    function(a) {
        a.fn.columnize = function(b) {
            function c(a, b) {
                try {
                    a.append(b)
                } catch (c) {
                    a[0].appendChild(b[0])
                }
            }
            this.cols = [], this.offset = 0, this.before = [], this.lastOther = 0, this.prevMax = 0, this.debug = 0, this.setColumnStart = null, this.elipsisText = "";
            var d = {
                width: 400,
                columns: !1,
                buildOnce: !1,
                overflow: !1,
                doneFunc: function() {},
                target: !1,
                ignoreImageLoading: !0,
                columnFloat: "left",
                lastNeverTallest: !1,
                accuracy: !1,
                manualBreaks: !1,
                cssClassPrefix: "",
                elipsisText: "...",
                debug: 0
            };
            return b = a.extend(d, b), "string" == typeof b.width && (b.width = parseInt(b.width, 10), isNaN(b.width) && (b.width = d.width)), "function" == typeof b.setColumnStart && (this.setColumnStart = b.setColumnStart), "string" == typeof b.elipsisText && (this.elipsisText = b.elipsisText), b.debug && (this.debug = b.debug), this.each(function() {
                function e(a, b) {
                    var c = b ? "." : "";
                    return p.length ? c + p + "-" + a : c + a
                }

                function f(d, f, g, h) {
                    for (;
                        (o || g.height() < h) && f[0].childNodes.length;) {
                        var i = f[0].childNodes[0];
                        if (a(i).find(e("columnbreak", !0)).length) return;
                        if (a(i).hasClass(e("columnbreak"))) return;
                        c(d, a(i))
                    }
                    if (0 !== d[0].childNodes.length) {
                        var j = d[0].childNodes,
                            k = j[j.length - 1];
                        d[0].removeChild(k);
                        var l = a(k);
                        if (3 == l[0].nodeType) {
                            var m = l[0].nodeValue,
                                n = b.width / 18;
                            b.accuracy && (n = b.accuracy);
                            for (var p, q = null; g.height() < h && m.length;) {
                                var r = m.indexOf(" ", n);
                                p = -1 != r ? m.substring(0, r) : m, q = document.createTextNode(p), c(d, a(q)), m = m.length > n && -1 != r ? m.substring(r) : ""
                            }
                            if (g.height() >= h && null !== q && (d[0].removeChild(q), m = q.nodeValue + m), !m.length) return !1;
                            l[0].nodeValue = m
                        }
                        return f.contents().length ? f.prepend(l) : c(f, l), 3 == l[0].nodeType
                    }
                }

                function g(a, b, d, h) {
                    if (!a.contents(":last").find(e("columnbreak", !0)).length && !a.contents(":last").hasClass(e("columnbreak")) && b.contents().length) {
                        var i = b.contents(":first");
                        if ("undefined" == typeof i.get(0) || 1 != i.get(0).nodeType) return;
                        var j = i.clone(!0);
                        if (i.hasClass(e("columnbreak"))) c(a, j), i.remove();
                        else if (o) c(a, j), i.remove();
                        else if (1 == j.get(0).nodeType && !j.hasClass(e("dontend")))
                            if (c(a, j), j.is("img") && d.height() < h + 20) i.remove();
                            else if (i.hasClass(e("dontsplit")) && d.height() < h + 20) i.remove();
                        else if (j.is("img") || i.hasClass(e("dontsplit"))) j.remove();
                        else {
                            if (j.empty(), f(j, i, d, h)) i.addClass(e("split"));
                            else {
                                if (i.addClass(e("split")), "OL" == i.get(0).tagName) {
                                    var k = j.get(0).childElementCount + j.get(0).start;
                                    i.attr("start", k + 1)
                                }
                                i.children().length && g(j, i, d, h)
                            }
                            0 === j.get(0).childNodes.length && (j.remove(), i.removeClass(e("split")))
                        }
                    }
                }

                function h() {
                    if (!k.data("columnized") || 1 != k.children().length) {
                        if (k.data("columnized", !0), k.data("columnizing", !0), k.empty(), k.append(a("<div class='" + e("first") + " " + e("last") + " " + e("column") + " ' style='width:100%; float: " + b.columnFloat + ";'></div>")), $col = k.children().eq(k.children().length - 1), $destroyable = m.clone(!0), b.overflow) {
                            for (targetHeight = b.overflow.height, f($col, $destroyable, $col, targetHeight), $destroyable.contents().find(":first-child").hasClass(e("dontend")) || g($col, $destroyable, $col, targetHeight); $col.contents(":last").length && i($col.contents(":last").get(0));) {
                                var d = $col.contents(":last");
                                d.remove(), $destroyable.prepend(d)
                            }
                            for (var h = "", j = document.createElement("DIV"); $destroyable[0].childNodes.length > 0;) {
                                var l = $destroyable[0].childNodes[0];
                                if (l.attributes)
                                    for (var n = 0; n < l.attributes.length; n++) 0 === l.attributes[n].nodeName.indexOf("jQuery") && l.removeAttribute(l.attributes[n].nodeName);
                                j.innerHTML = "", j.appendChild($destroyable[0].childNodes[0]), h += j.innerHTML
                            }
                            var o = a(b.overflow.id)[0];
                            o.innerHTML = h
                        } else c($col, $destroyable.contents());
                        k.data("columnizing", !1), b.overflow && b.overflow.doneFunc && b.overflow.doneFunc(), b.doneFunc()
                    }
                }

                function i(b) {
                    return 3 == b.nodeType ? /^\s+$/.test(b.nodeValue) && b.previousSibling ? i(b.previousSibling) : !1 : 1 != b.nodeType ? !1 : a(b).hasClass(e("dontend")) ? !0 : 0 === b.childNodes.length ? !1 : i(b.childNodes[b.childNodes.length - 1])
                }

                function j() {
                    if (q = 0, n != k.width()) {
                        n = k.width();
                        var d = Math.round(k.width() / b.width),
                            j = b.width,
                            p = b.height;
                        if (b.columns && (d = b.columns), o && (d = m.find(e("columnbreak", !0)).length + 1, j = !1), 1 >= d) return h();
                        if (!k.data("columnizing")) {
                            k.data("columnized", !0), k.data("columnizing", !0), k.empty(), k.append(a("<div style='width:" + Math.floor(100 / d) + "%; float: " + b.columnFloat + ";'></div>")), x = k.children(":last"), c(x, m.clone()), l = x.height(), k.empty();
                            var r = l / d,
                                s = 3,
                                t = !1;
                            b.overflow ? (s = 1, r = b.overflow.height) : p && j && (s = 1, r = p, t = !0);
                            for (var u = 0; s > u && 20 > u; u++) {
                                k.empty();
                                var v, w, x, y;
                                try {
                                    v = m.clone(!0)
                                } catch (z) {
                                    v = m.clone()
                                }
                                v.css("visibility", "hidden");
                                for (var A = 0; d > A; A++) w = 0 === A ? e("first") : "", w += " " + e("column"), w = A == d - 1 ? e("last") + " " + w : w, k.append(a("<div class='" + w + "' style='width:" + Math.floor(100 / d) + "%; float: " + b.columnFloat + ";'></div>"));
                                for (A = 0; A < d - (b.overflow ? 0 : 1) || t && v.contents().length;) {
                                    for (k.children().length <= A && k.append(a("<div class='" + w + "' style='width:" + Math.floor(100 / d) + "%; float: " + b.columnFloat + ";'></div>")), x = k.children().eq(A), t && x.width(j + "px"), f(x, v, x, r), g(x, v, x, r); x.contents(":last").length && i(x.contents(":last").get(0));) y = x.contents(":last"), y.remove(), v.prepend(y);
                                    A++, 0 === x.contents().length && v.contents().length ? x.append(v.contents(":first")) : A != d - (b.overflow ? 0 : 1) || b.overflow || v.find(e("columnbreak", !0)).length && d++
                                }
                                if (b.overflow && !t) {
                                    var B = !1,
                                        C = document.all && -1 != navigator.appVersion.indexOf("MSIE 7.");
                                    if (B || C) {
                                        for (var D = "", E = document.createElement("DIV"); v[0].childNodes.length > 0;) {
                                            var F = v[0].childNodes[0];
                                            for (A = 0; A < F.attributes.length; A++) 0 === F.attributes[A].nodeName.indexOf("jQuery") && F.removeAttribute(F.attributes[A].nodeName);
                                            E.innerHTML = "", E.appendChild(v[0].childNodes[0]), D += E.innerHTML
                                        }
                                        var G = a(b.overflow.id)[0];
                                        G.innerHTML = D
                                    } else a(b.overflow.id).empty().append(v.contents().clone(!0))
                                } else if (t) k.children().each(function(a) {
                                    x = k.children().eq(a), x.width(j + "px"), 0 === a ? x.addClass(e("first")) : a == k.children().length - 1 ? x.addClass(e("last")) : (x.removeClass(e("first")), x.removeClass(e("last")))
                                }), k.width(k.children().length * j + "px");
                                else {
                                    x = k.children().eq(k.children().length - 1), v.contents().each(function() {
                                        x.append(a(this))
                                    });
                                    var H = (x.height(), 0),
                                        I = 1e7,
                                        J = 0,
                                        K = !1,
                                        L = 0;
                                    k.children().each(function(a) {
                                        return function(b) {
                                            var c = a.children().eq(b),
                                                d = c.children(":last").find(e("columnbreak", !0)).length;
                                            if (!d) {
                                                var f = c.height();
                                                K = !1, H += f, f > J && (J = f, K = !0), I > f && (I = f), L++
                                            }
                                        }
                                    }(k));
                                    var M = H / L;
                                    0 === H ? u = s : b.lastNeverTallest && K ? (q += 5, r += 30, u == s - 1 && s++) : J - I > 30 ? r = M + 30 : Math.abs(M - r) > 20 ? r = M : u = s
                                }
                                k.append(a("<br style='clear:both;'>"))
                            }
                            k.find(e("column", !0)).find(":first" + e("removeiffirst", !0)).remove(), k.find(e("column", !0)).find(":last" + e("removeiflast", !0)).remove(), k.find(e("split", !0)).find(":first" + e("removeiffirst", !0)).remove(), k.find(e("split", !0)).find(":last" + e("removeiflast", !0)).remove(), k.data("columnizing", !1), b.overflow && b.overflow.doneFunc(), b.doneFunc()
                        }
                    }
                }
                var k = a(b.target ? b.target : this),
                    l = a(this).height(),
                    m = a("<div></div>"),
                    n = 0,
                    o = b.manualBreaks,
                    p = d.cssClassPrefix;
                "string" == typeof b.cssClassPrefix && (p = b.cssClassPrefix);
                var q = 0;
                if (c(m, a(this).contents().clone(!0)), !b.ignoreImageLoading && !b.target && !k.data("imageLoaded") && (k.data("imageLoaded", !0), a(this).find("img").length > 0)) {
                    var r = function(a, d) {
                        return function() {
                            a.data("firstImageLoaded") || (a.data("firstImageLoaded", "true"), c(a.empty(), d.children().clone(!0)), a.columnize(b))
                        }
                    }(a(this), m);
                    return a(this).find("img").one("load", r), void a(this).find("img").one("abort", r)
                }
                k.empty(), j(), b.buildOnce || a(window).resize(function() {
                    b.buildOnce || (k.data("timeout") && clearTimeout(k.data("timeout")), k.data("timeout", setTimeout(j, 200)))
                })
            })
        }, a.fn.renumberByJS = function(b, c, d, e) {
            if (this.setList = function(b, c, d) {
                    var e, f = this.before.parents();
                    if (e = a(b[this.offset - 1]).find(">*"), e.last()[0].tagName != d.toUpperCase()) return this.debug && console.log("Last item in previous column, isn't a list..."), 0;
                    e = e.length;
                    var g = 1;
                    if (g = this.lastOther <= 0 ? this.before.children().length + 1 : a(f[this.lastOther]).children().length + 1, a(b[this.offset]).find(d + ":first li.split").length) {
                        var h = a(b[this.offset - 1]).find(d + ":last li:last");
                        if ("" === this.elipsisText || a(b[this.offset - 1]).find(d + ":last ~ div").length || a(b[this.offset - 1]).find(d + ":last ~ p").length);
                        else if (0 == a(h).find("ul, ol, dl").length) {
                            var i = h.last().text(),
                                j = i.length;
                            ";" == i.substring(j - 1) ? i.substring(j - 4) != this.elipsisText + ";" && (i = i.substring(0, j - 1) + this.elipsisText + ";") : i.substring(j - 3) != this.elipsisText && (i += this.elipsisText), h.last().text(i)
                        }
                        0 == a(b[this.offset]).find(d + ":first >li.split >" + d).length && g--
                    }
                    if (1 == e && (g += this.prevMax), this.nest > 1) {
                        this.debug && console.log("Supposed to be a nested list...decr"), g--;
                        var k = a(b[this.offset - 1]).find(d + ":first li.split:first");
                        k.length > 0 && (this.debug && console.log("Previous column started with a split item, so that count is one less than expected"), g--), k = a(b[this.offset]).find(d + ":first li:first").clone(), k.children().remove(), a.trim(k.text()).length > 0 && (this.debug && console.log("If that was a complete list in the previous column, don't decr."), g++, 0 == a(b[this.offset - 1]).find(">" + d + ":last ").children().length && (this.debug && console.log("unless that was empty, in which case revert"), g--))
                    } else {
                        var k = a(b[this.offset]).find(d + ":first li:first " + d + ".split li.split");
                        k.length > 0 && (this.debug && console.log("[Nested] Column started with a split item, so that count is one less than expected"), g--)
                    }
                    return this.debug && console.log("Setting the start value to " + g + " (" + this.prevMax + ")"), g > 0 && ("function" == typeof this.setColumnStart ? this.setColumnStart(c, g) : c.attr("start", g)), 0
                }, "undefined" == typeof d && (d = !1), "undefined" == typeof e && (e = !1), !d && !e) throw "renumberByJS(): Bad param, must pass an id or a class";
            var f = "";
            this.prevMax = 1, f = e ? "." + e : "#" + d;
            var g = b.toLowerCase(),
                h = b.toUpperCase();
            for (this.cols = a(f), this.debug && console.log("There are " + this.cols.length + " items, looking for " + g), this.before = a(this.cols[0]).find(g + ":last"), this.prevMax = this.before.children().length, this.offset = 1; this.offset < this.cols.length; this.offset++)
                if (this.debug && console.log("iterating " + this.offset + "...[of " + this.cols.length + "]"), this.offset % c != 0) {
                    if (this.before = a(this.cols[this.offset - 1]).find(g + ":last"), this.before.length) {
                        this.debug && console.log("Have some " + b + " elements in the previous column");
                        var i = a(this.cols[this.offset]).find(g + ":first"),
                            j = a(this.cols[this.offset]).find("*:first");
                        if (j[0] !== i[0]) continue;
                        var k = this.before.parents();
                        this.lastOther = 0;
                        for (var l = !1; this.lastOther < k.length; this.lastOther++)
                            if (k[this.lastOther].tagName != h && "LI" != k[this.lastOther].tagName) {
                                l = !0, this.lastOther--;
                                break
                            }
                        this.nest = 1, a(this.cols[this.offset]).find(">" + g + ":first li " + g + ":first").length && (this.nest = 2), this.setList(this.cols, i, g), this.lastOther--, i = a(this.cols[this.offset]).find(g + ":first li " + g + ":first"), i.length && (this.before = a(this.cols[this.offset - 1]).find(">" + g + ":last li " + g + ":last"), this.prevMax = 0, this.nest = 1, this.setList(this.cols, i, g));
                        var m = a(this.cols[this.offset - 1]).find(">" + g + ":last");
                        this.prevMax = m.children().length
                    }
                } else this.debug && console.log("First column (in theory..)"), this.prevMax = 1;
            return 0
        }
    }(jQuery),
    function(a) {
        "use strict";
        a.fn.fitVids = function(b) {
            var c = {
                customSelector: null,
                ignore: null
            };
            if (!document.getElementById("fit-vids-style")) {
                var d = document.head || document.getElementsByTagName("head")[0],
                    e = ".fluid-width-video-wrapper{width:100%;position:relative;padding:0;}.fluid-width-video-wrapper iframe,.fluid-width-video-wrapper object,.fluid-width-video-wrapper embed {position:absolute;top:0;left:0;width:100%;height:100%;}",
                    f = document.createElement("div");
                f.innerHTML = '<p>x</p><style id="fit-vids-style">' + e + "</style>", d.appendChild(f.childNodes[1])
            }
            return b && a.extend(c, b), this.each(function() {
                var b = ["iframe[src*='player.vimeo.com']", "iframe[src*='youtube.com']", "iframe[src*='youtube-nocookie.com']", "iframe[src*='kickstarter.com'][src*='video.html']", "object", "embed"];
                c.customSelector && b.push(c.customSelector);
                var d = ".fitvidsignore";
                c.ignore && (d = d + ", " + c.ignore);
                var e = a(this).find(b.join(","));
                e = e.not("object object"), e = e.not(d), e.each(function() {
                    var b = a(this);
                    if (!(b.parents(d).length > 0 || "embed" === this.tagName.toLowerCase() && b.parent("object").length || b.parent(".fluid-width-video-wrapper").length)) {
                        b.css("height") || b.css("width") || !isNaN(b.attr("height")) && !isNaN(b.attr("width")) || (b.attr("height", 9), b.attr("width", 16));
                        var c = "object" === this.tagName.toLowerCase() || b.attr("height") && !isNaN(parseInt(b.attr("height"), 10)) ? parseInt(b.attr("height"), 10) : b.height(),
                            e = isNaN(parseInt(b.attr("width"), 10)) ? b.width() : parseInt(b.attr("width"), 10),
                            f = c / e;
                        if (!b.attr("id")) {
                            var g = "fitvid" + Math.floor(999999 * Math.random());
                            b.attr("id", g)
                        }
                        b.wrap('<div class="fluid-width-video-wrapper"></div>').parent(".fluid-width-video-wrapper").css("padding-top", 100 * f + "%"), b.removeAttr("height").removeAttr("width")
                    }
                })
            })
        }
    }(window.jQuery || window.Zepto), String.prototype.rightChars = function(a) {
        return 0 >= a ? "" : a > this.length ? this : this.substring(this.length, this.length - a)
    },
    function(a) {
        var b, c, d, e, f, g, h, i, j, k, l, m, n = {
            highlightSpeed: 16,
            typeSpeed: 110,
            clearDelay: 500,
            typeDelay: 200,
            clearOnHighlight: !0,
            typerDataAttr: "data-typer-targets",
            typerInterval: 2400
        };
        e = function(b, c) {
            return "rgba(0, 0, 0, 0)" === b && (b = "rgb(255, 255, 255)"), a("<span></span>").css("color", b).css("background-color", c)
        }, i = function(a) {
            return !isNaN(parseFloat(a)) && isFinite(a)
        }, h = function(a) {
            a.removeData(["typePosition", "highlightPosition", "leftStop", "rightStop", "primaryColor", "backgroundColor", "text", "typing"])
        }, d = function(a) {
            var b = a.data("text"),
                c = a.data("oldLeft"),
                e = a.data("oldRight");
            return b && 0 !== b.length ? (a.text(c + b.charAt(0) + e).data({
                oldLeft: c + b.charAt(0),
                text: b.substring(1)
            }), void setTimeout(function() {
                d(a)
            }, l())) : void h(a)
        }, c = function(a) {
            a.find("span").remove(), setTimeout(function() {
                d(a)
            }, g())
        }, b = function(a) {
            var d, g, h, j = a.data("highlightPosition");
            return i(j) || (j = a.data("rightStop") + 1), j <= a.data("leftStop") ? void setTimeout(function() {
                c(a)
            }, f()) : (d = a.text().substring(0, j - 1), g = a.text().substring(j - 1, a.data("rightStop") + 1), h = a.text().substring(a.data("rightStop") + 1), a.html(d).append(e(a.data("backgroundColor"), a.data("primaryColor")).append(g)).append(h), a.data("highlightPosition", j - 1), void setTimeout(function() {
                return b(a)
            }, k()))
        }, j = function(b) {
            var c;
            if (!b.data("typing")) {
                try {
                    c = JSON.parse(b.attr(a.typer.options.typerDataAttr)).targets
                } catch (d) {}
                "undefined" == typeof c && (c = a.map(b.attr(a.typer.options.typerDataAttr).split(","), function(b) {
                    return a.trim(b)
                })), b.typeTo(c[Math.floor(Math.random() * c.length)])
            }
        }, a.typer = function() {
            return {
                options: n
            }
        }(), a.extend(a.typer, {
            options: n
        }), a.fn.typer = function() {
            var b = a(this);
            return b.each(function() {
                var b = a(this);
                "undefined" != typeof b.attr(a.typer.options.typerDataAttr) && (j(b), setInterval(function() {
                    j(b)
                }, m()))
            })
        }, a.fn.typeTo = function(c) {
            var d = a(this),
                e = d.text(),
                f = 0,
                g = 0;
            if (e === c) return console.log("Our strings our equal, nothing to type"), d;
            if (e !== d.html()) return console.error("Typer does not work on elements with child elements."), d;
            for (d.data("typing", !0); e.charAt(f) === c.charAt(f);) f++;
            for (; e.rightChars(g) === c.rightChars(g);) g++;
            return c = c.substring(f, c.length - g + 1), d.data({
                oldLeft: e.substring(0, f),
                oldRight: e.rightChars(g - 1),
                leftStop: f,
                rightStop: e.length - g,
                primaryColor: d.css("color"),
                backgroundColor: d.css("background-color"),
                text: c
            }), b(d), d
        }, k = function() {
            return a.typer.options.highlightSpeed
        }, l = function() {
            return a.typer.options.typeSpeed
        }, f = function() {
            return a.typer.options.clearDelay
        }, g = function() {
            return a.typer.options.typeDelay
        }, m = function() {
            return a.typer.options.typerInterval
        }
    }(jQuery), ! function(a) {
        function b(a) {
            return new RegExp("(^|\\s+)" + a + "(\\s+|$)")
        }

        function c(a, b) {
            var c = d(a, b) ? f : e;
            c(a, b)
        }
        var d, e, f;
        "classList" in document.documentElement ? (d = function(a, b) {
            return a.classList.contains(b)
        }, e = function(a, b) {
            a.classList.add(b)
        }, f = function(a, b) {
            a.classList.remove(b)
        }) : (d = function(a, c) {
            return b(c).test(a.className)
        }, e = function(a, b) {
            d(a, b) || (a.className = a.className + " " + b)
        }, f = function(a, c) {
            a.className = a.className.replace(b(c), " ")
        });
        var g = {
            hasClass: d,
            addClass: e,
            removeClass: f,
            toggleClass: c,
            has: d,
            add: e,
            remove: f,
            toggle: c
        };
        "function" == typeof define && define.amd ? define("classie/classie", g) : "object" == typeof exports ? module.exports = g : a.classie = g
    }(window),
    function(a) {
        function b() {
            function a(b) {
                for (var c in a.defaults) this[c] = a.defaults[c];
                for (c in b) this[c] = b[c]
            }
            return c.Rect = a, a.defaults = {
                x: 0,
                y: 0,
                width: 0,
                height: 0
            }, a.prototype.contains = function(a) {
                var b = a.width || 0,
                    c = a.height || 0;
                return this.x <= a.x && this.y <= a.y && this.x + this.width >= a.x + b && this.y + this.height >= a.y + c
            }, a.prototype.overlaps = function(a) {
                var b = this.x + this.width,
                    c = this.y + this.height,
                    d = a.x + a.width,
                    e = a.y + a.height;
                return this.x < d && b > a.x && this.y < e && c > a.y
            }, a.prototype.getMaximalFreeRects = function(b) {
                if (!this.overlaps(b)) return !1;
                var c, d = [],
                    e = this.x + this.width,
                    f = this.y + this.height,
                    g = b.x + b.width,
                    h = b.y + b.height;
                return this.y < b.y && (c = new a({
                    x: this.x,
                    y: this.y,
                    width: this.width,
                    height: b.y - this.y
                }), d.push(c)), e > g && (c = new a({
                    x: g,
                    y: this.y,
                    width: e - g,
                    height: this.height
                }), d.push(c)), f > h && (c = new a({
                    x: this.x,
                    y: h,
                    width: this.width,
                    height: f - h
                }), d.push(c)), this.x < b.x && (c = new a({
                    x: this.x,
                    y: this.y,
                    width: b.x - this.x,
                    height: this.height
                }), d.push(c)), d
            }, a.prototype.canFit = function(a) {
                return this.width >= a.width && this.height >= a.height
            }, a
        }
        var c = a.Packery = function() {};
        "function" == typeof define && define.amd ? define("packery/js/rect", b) : (a.Packery = a.Packery || {}, a.Packery.Rect = b())
    }(window),
    function(a) {
        function b(a) {
            function b(a, b, c) {
                this.width = a || 0, this.height = b || 0, this.sortDirection = c || "downwardLeftToRight", this.reset()
            }
            b.prototype.reset = function() {
                this.spaces = [], this.newSpaces = [];
                var b = new a({
                    x: 0,
                    y: 0,
                    width: this.width,
                    height: this.height
                });
                this.spaces.push(b), this.sorter = c[this.sortDirection] || c.downwardLeftToRight
            }, b.prototype.pack = function(a) {
                for (var b = 0, c = this.spaces.length; c > b; b++) {
                    var d = this.spaces[b];
                    if (d.canFit(a)) {
                        this.placeInSpace(a, d);
                        break
                    }
                }
            }, b.prototype.placeInSpace = function(a, b) {
                a.x = b.x, a.y = b.y, this.placed(a)
            }, b.prototype.placed = function(a) {
                for (var c = [], d = 0, e = this.spaces.length; e > d; d++) {
                    var f = this.spaces[d],
                        g = f.getMaximalFreeRects(a);
                    g ? c.push.apply(c, g) : c.push(f)
                }
                this.spaces = c, b.mergeRects(this.spaces), this.spaces.sort(this.sorter)
            }, b.mergeRects = function(a) {
                for (var b = 0, c = a.length; c > b; b++) {
                    var d = a[b];
                    if (d) {
                        var e = a.slice(0);
                        e.splice(b, 1);
                        for (var f = 0, g = 0, h = e.length; h > g; g++) {
                            var i = e[g],
                                j = b > g ? 0 : 1;
                            d.contains(i) && (a.splice(g + j - f, 1), f++)
                        }
                    }
                }
                return a
            };
            var c = {
                downwardLeftToRight: function(a, b) {
                    return a.y - b.y || a.x - b.x
                },
                rightwardTopToBottom: function(a, b) {
                    return a.x - b.x || a.y - b.y
                }
            };
            return b
        }
        if ("function" == typeof define && define.amd) define("packery/js/packer", ["./rect"], b);
        else {
            var c = a.Packery = a.Packery || {};
            c.Packer = b(c.Rect)
        }
    }(window),
    function(a) {
        function b(a, b, c) {
            var d = a("transform"),
                e = function() {
                    b.Item.apply(this, arguments)
                };
            e.prototype = new b.Item;
            var f = e.prototype._create;
            return e.prototype._create = function() {
                f.call(this), this.rect = new c, this.placeRect = new c
            }, e.prototype.dragStart = function() {
                this.getPosition(), this.removeTransitionStyles(), this.isTransitioning && d && (this.element.style[d] = "none"), this.getSize(), this.isPlacing = !0, this.needsPositioning = !1, this.positionPlaceRect(this.position.x, this.position.y), this.isTransitioning = !1, this.didDrag = !1
            }, e.prototype.dragMove = function(a, b) {
                this.didDrag = !0;
                var c = this.layout.size;
                a -= c.paddingLeft, b -= c.paddingTop, this.positionPlaceRect(a, b)
            }, e.prototype.dragStop = function() {
                this.getPosition();
                var a = this.position.x !== this.placeRect.x,
                    b = this.position.y !== this.placeRect.y;
                this.needsPositioning = a || b, this.didDrag = !1
            }, e.prototype.positionPlaceRect = function(a, b, c) {
                this.placeRect.x = this.getPlaceRectCoord(a, !0), this.placeRect.y = this.getPlaceRectCoord(b, !1, c)
            }, e.prototype.getPlaceRectCoord = function(a, b, c) {
                var d = b ? "Width" : "Height",
                    e = this.size["outer" + d],
                    f = this.layout[b ? "columnWidth" : "rowHeight"],
                    g = this.layout.size["inner" + d];
                b || (g = Math.max(g, this.layout.maxY), this.layout.rowHeight || (g -= this.layout.gutter));
                var h;
                if (f) {
                    f += this.layout.gutter, g += b ? this.layout.gutter : 0, a = Math.round(a / f);
                    var i;
                    i = this.layout.options.isHorizontal ? b ? "ceil" : "floor" : b ? "floor" : "ceil";
                    var j = Math[i](g / f);
                    j -= Math.ceil(e / f), h = j
                } else h = g - e;
                return a = c ? a : Math.min(a, h), a *= f || 1, Math.max(0, a)
            }, e.prototype.copyPlaceRectPosition = function() {
                this.rect.x = this.placeRect.x, this.rect.y = this.placeRect.y
            }, e
        }
        "function" == typeof define && define.amd ? define("packery/js/item", ["get-style-property/get-style-property", "outlayer/outlayer", "./rect"], b) : a.Packery.Item = b(a.getStyleProperty, a.Outlayer, a.Packery.Rect)
    }(window),
    function(a) {
        function b(a, b, c, d, e, f) {
            function g(a, b) {
                return a.position.y - b.position.y || a.position.x - b.position.x
            }

            function h(a, b) {
                return a.position.x - b.position.x || a.position.y - b.position.y
            }
            var i = c.create("packery");
            return i.Item = f, i.prototype._create = function() {
                c.prototype._create.call(this), this.packer = new e, this.stamp(this.options.stamped);
                var a = this;
                this.handleDraggabilly = {
                    dragStart: function(b) {
                        a.itemDragStart(b.element)
                    },
                    dragMove: function(b) {
                        a.itemDragMove(b.element, b.position.x, b.position.y)
                    },
                    dragEnd: function(b) {
                        a.itemDragEnd(b.element)
                    }
                }, this.handleUIDraggable = {
                    start: function(b) {
                        a.itemDragStart(b.currentTarget)
                    },
                    drag: function(b, c) {
                        a.itemDragMove(b.currentTarget, c.position.left, c.position.top)
                    },
                    stop: function(b) {
                        a.itemDragEnd(b.currentTarget)
                    }
                }
            }, i.prototype._resetLayout = function() {
                this.getSize(), this._getMeasurements();
                var a = this.packer;
                this.options.isHorizontal ? (a.width = Number.POSITIVE_INFINITY, a.height = this.size.innerHeight + this.gutter, a.sortDirection = "rightwardTopToBottom") : (a.width = this.size.innerWidth + this.gutter, a.height = Number.POSITIVE_INFINITY, a.sortDirection = "downwardLeftToRight"), a.reset(), this.maxY = 0, this.maxX = 0
            }, i.prototype._getMeasurements = function() {
                this._getMeasurement("columnWidth", "width"), this._getMeasurement("rowHeight", "height"), this._getMeasurement("gutter", "width")
            }, i.prototype._getItemLayoutPosition = function(a) {
                return this._packItem(a), a.rect
            }, i.prototype._packItem = function(a) {
                this._setRectSize(a.element, a.rect), this.packer.pack(a.rect), this._setMaxXY(a.rect)
            }, i.prototype._setMaxXY = function(a) {
                this.maxX = Math.max(a.x + a.width, this.maxX), this.maxY = Math.max(a.y + a.height, this.maxY)
            }, i.prototype._setRectSize = function(a, c) {
                var d = b(a),
                    e = d.outerWidth,
                    f = d.outerHeight,
                    g = this.columnWidth + this.gutter,
                    h = this.rowHeight + this.gutter;
                e = this.columnWidth ? Math.ceil(e / g) * g : e + this.gutter, f = this.rowHeight ? Math.ceil(f / h) * h : f + this.gutter, c.width = Math.min(e, this.packer.width), c.height = Math.min(f, this.packer.height)
            }, i.prototype._getContainerSize = function() {
                return this.options.isHorizontal ? {
                    width: this.maxX - this.gutter
                } : {
                    height: this.maxY - this.gutter
                }
            }, i.prototype._manageStamp = function(a) {
                var b, c = this.getItem(a);
                if (c && c.isPlacing) b = c.placeRect;
                else {
                    var e = this._getElementOffset(a);
                    b = new d({
                        x: this.options.isOriginLeft ? e.left : e.right,
                        y: this.options.isOriginTop ? e.top : e.bottom
                    })
                }
                this._setRectSize(a, b), this.packer.placed(b), this._setMaxXY(b)
            }, i.prototype.sortItemsByPosition = function() {
                var a = this.options.isHorizontal ? h : g;
                this.items.sort(a)
            }, i.prototype.fit = function(a, b, c) {
                var d = this.getItem(a);
                d && (this._getMeasurements(), this.stamp(d.element), d.getSize(), d.isPlacing = !0, b = void 0 === b ? d.rect.x : b, c = void 0 === c ? d.rect.y : c, d.positionPlaceRect(b, c, !0), this._bindFitEvents(d), d.moveTo(d.placeRect.x, d.placeRect.y), this.layout(), this.unstamp(d.element), this.sortItemsByPosition(), d.isPlacing = !1, d.copyPlaceRectPosition())
            }, i.prototype._bindFitEvents = function(a) {
                function b() {
                    d++, 2 === d && c.emitEvent("fitComplete", [c, a])
                }
                var c = this,
                    d = 0;
                a.on("layout", function() {
                    return b(), !0
                }), this.on("layoutComplete", function() {
                    return b(), !0
                })
            }, i.prototype.resize = function() {
                var a = b(this.element),
                    c = this.size && a,
                    d = this.options.isHorizontal ? "innerHeight" : "innerWidth";
                c && a[d] === this.size[d] || this.layout()
            }, i.prototype.itemDragStart = function(a) {
                this.stamp(a);
                var b = this.getItem(a);
                b && b.dragStart()
            }, i.prototype.itemDragMove = function(a, b, c) {
                function d() {
                    f.layout(), delete f.dragTimeout
                }
                var e = this.getItem(a);
                e && e.dragMove(b, c);
                var f = this;
                this.clearDragTimeout(), this.dragTimeout = setTimeout(d, 40)
            }, i.prototype.clearDragTimeout = function() {
                this.dragTimeout && clearTimeout(this.dragTimeout)
            }, i.prototype.itemDragEnd = function(b) {
                var c, d = this.getItem(b);
                if (d && (c = d.didDrag, d.dragStop()), !d || !c && !d.needsPositioning) return void this.unstamp(b);
                a.add(d.element, "is-positioning-post-drag");
                var e = this._getDragEndLayoutComplete(b, d);
                d.needsPositioning ? (d.on("layout", e), d.moveTo(d.placeRect.x, d.placeRect.y)) : d && d.copyPlaceRectPosition(), this.clearDragTimeout(), this.on("layoutComplete", e), this.layout()
            }, i.prototype._getDragEndLayoutComplete = function(b, c) {
                var d = c && c.needsPositioning,
                    e = 0,
                    f = d ? 2 : 1,
                    g = this;
                return function() {
                    return e++, e !== f ? !0 : (c && (a.remove(c.element, "is-positioning-post-drag"), c.isPlacing = !1, c.copyPlaceRectPosition()), g.unstamp(b), g.sortItemsByPosition(), d && g.emitEvent("dragItemPositioned", [g, c]), !0)
                }
            }, i.prototype.bindDraggabillyEvents = function(a) {
                a.on("dragStart", this.handleDraggabilly.dragStart), a.on("dragMove", this.handleDraggabilly.dragMove), a.on("dragEnd", this.handleDraggabilly.dragEnd)
            }, i.prototype.bindUIDraggableEvents = function(a) {
                a.on("dragstart", this.handleUIDraggable.start).on("drag", this.handleUIDraggable.drag).on("dragstop", this.handleUIDraggable.stop)
            }, i.Rect = d, i.Packer = e, i
        }
        "function" == typeof define && define.amd ? define("packery/js/packery", ["classie/classie", "get-size/get-size", "outlayer/outlayer", "./rect", "./packer", "./item"], b) : a.Packery = b(a.classie, a.getSize, a.Outlayer, a.Packery.Rect, a.Packery.Packer, a.Packery.Item)
    }(window),
    function(a) {
        function b(a, b) {
            for (var c in b) a[c] = b[c];
            return a
        }

        function c(a, c, d) {
            var e = a.create("packery"),
                f = e.prototype._getElementOffset,
                g = e.prototype._getMeasurement;
            b(e.prototype, c.prototype), e.prototype._getElementOffset = f, e.prototype._getMeasurement = g;
            var h = e.prototype._resetLayout;
            e.prototype._resetLayout = function() {
                this.packer = this.packer || new c.Packer, h.apply(this, arguments)
            };
            var i = e.prototype._getItemLayoutPosition;
            e.prototype._getItemLayoutPosition = function(a) {
                return a.rect = a.rect || new c.Rect, i.call(this, a)
            };
            var j = e.prototype._manageStamp;
            return e.prototype._manageStamp = function() {
                this.options.isOriginLeft = this.isotope.options.isOriginLeft, this.options.isOriginTop = this.isotope.options.isOriginTop, j.apply(this, arguments)
            }, e.prototype.needsResizeLayout = function() {
                var a = d(this.element),
                    b = this.size && a,
                    c = this.options.isHorizontal ? "innerHeight" : "innerWidth";
                return b && a[c] !== this.size[c]
            }, e
        }
        "function" == typeof define && define.amd ? define(["isotope/js/layout-mode", "packery/js/packery", "get-size/get-size"], c) : c(a.Isotope.LayoutMode, a.Packery, a.getSize)
    }(window),
    function() {
        function a() {}

        function b(a) {
            return f.retinaImageSuffix + a
        }

        function c(a, c) {
            if (this.path = a || "", "undefined" != typeof c && null !== c) this.at_2x_path = c, this.perform_check = !1;
            else {
                if (void 0 !== document.createElement) {
                    var d = document.createElement("a");
                    d.href = this.path, d.pathname = d.pathname.replace(g, b), this.at_2x_path = d.href
                } else {
                    var e = this.path.split("?");
                    e[0] = e[0].replace(g, b), this.at_2x_path = e.join("?")
                }
                this.perform_check = !0
            }
        }

        function d(a) {
            this.el = a, this.path = new c(this.el.getAttribute("src"), this.el.getAttribute("data-at2x"));
            var b = this;
            this.path.check_2x_variant(function(a) {
                a && b.swap()
            })
        }
        var e = "undefined" == typeof exports ? window : exports,
            f = {
                retinaImageSuffix: "@2x",
                check_mime_type: !0,
                force_original_dimensions: !0
            };
        e.Retina = a, a.configure = function(a) {
            null === a && (a = {});
            for (var b in a) a.hasOwnProperty(b) && (f[b] = a[b])
        }, a.init = function(a) {
            null === a && (a = e);
            var b = a.onload || function() {};
            a.onload = function() {
                var a, c, e = document.getElementsByTagName("img"),
                    f = [];
                for (a = 0; a < e.length; a += 1) c = e[a], c.getAttributeNode("data-no-retina") || f.push(new d(c));
                b()
            }
        }, a.isRetina = function() {
            var a = "(-webkit-min-device-pixel-ratio: 1.5), (min--moz-device-pixel-ratio: 1.5), (-o-min-device-pixel-ratio: 3/2), (min-resolution: 1.5dppx)";
            return e.devicePixelRatio > 1 ? !0 : e.matchMedia && e.matchMedia(a).matches ? !0 : !1
        };
        var g = /\.\w+$/;
        e.RetinaImagePath = c, c.confirmed_paths = [], c.prototype.is_external = function() {
            return !(!this.path.match(/^https?\:/i) || this.path.match("//" + document.domain))
        }, c.prototype.check_2x_variant = function(a) {
            var b, d = this;
            return this.is_external() ? a(!1) : this.perform_check || "undefined" == typeof this.at_2x_path || null === this.at_2x_path ? this.at_2x_path in c.confirmed_paths ? a(!0) : (b = new XMLHttpRequest, b.open("HEAD", this.at_2x_path), b.onreadystatechange = function() {
                if (4 !== b.readyState) return a(!1);
                if (b.status >= 200 && b.status <= 399) {
                    if (f.check_mime_type) {
                        var e = b.getResponseHeader("Content-Type");
                        if (null === e || !e.match(/^image/i)) return a(!1)
                    }
                    return c.confirmed_paths.push(d.at_2x_path), a(!0)
                }
                return a(!1)
            }, b.send(), void 0) : a(!0)
        }, e.RetinaImage = d, d.prototype.swap = function(a) {
            function b() {
                c.el.complete ? (f.force_original_dimensions && (c.el.setAttribute("width", c.el.offsetWidth), c.el.setAttribute("height", c.el.offsetHeight)), c.el.setAttribute("src", a)) : setTimeout(b, 5)
            }
            "undefined" == typeof a && (a = this.path.at_2x_path);
            var c = this;
            b()
        }, a.isRetina() && a.init(e)
    }();